/*! web-app-grunt-starter - v0.0.0-ignored - 2014-11-20
* https://kzf.github.io
* Copyright (c) 2014 Kevin Fray; Licensed  */
(function e(t,s,r){function i(o,a){if(!s[o]){if(!t[o]){var p="function"==typeof require&&require;if(!a&&p)return p(o,!0);if(n)return n(o,!0);var h=Error("Cannot find module '"+o+"'");throw h.code="MODULE_NOT_FOUND",h}var c=s[o]={exports:{}};t[o][0].call(c.exports,function(e){var s=t[o][1][e];return i(s?s:e)},c,c.exports,e,t,s,r)}return s[o].exports}for(var n="function"==typeof require&&require,o=0;r.length>o;o++)i(r[o]);return i})({1:[function(t,e){"use strict";var s=t("./KeyframeHandler"),r=function(t,e){this.container=$(t),this.steppedAlgorithm=e,this.keyframes=new s(this.steppedAlgorithm.steps),this.stepElements=[],this.showGraph()};r.prototype.addStep=function(t){var e=$("<p></p>").addClass("step").addClass("step-"+this.steppedAlgorithm.steps[t].level).text(this.steppedAlgorithm.steps[t].desc);return this.stepElements[t]=e,e},r.prototype.doStep=function(t){this.container.append(this.stepElements[t]),this.container.scrollTop(this.container.prop("scrollHeight"))},r.prototype.undoStep=function(t){this.stepElements[t].remove()},r.prototype.next=function(){var t=this.keyframes.next(),e=this;t.steps.forEach(function(s){t.add&&e.addStep(s.id,s.step),e.doStep(s.id)})},r.prototype.last=function(){var t=this.keyframes.last(),e=this;t.steps.forEach(function(t){e.undoStep(t.id)})},r.prototype.showGraph=function(){function t(){c.attr("d",function(t){var e=t.target.x-t.source.x,s=t.target.y-t.source.y,r=Math.sqrt(e*e+s*s);return"M"+t.source.x+","+t.source.y+"A"+r+","+r+" 0 0,1 "+t.target.x+","+t.target.y}),l.attr("transform",function(t){return"translate("+t.x+","+t.y+")"})}console.log("WHT");var e,s,r={},i=[];for(console.log(this.steppedAlgorithm,this.steppedAlgorithm.alg.straightLength,"4"),e=0;this.steppedAlgorithm.alg.straightLength>e;e++)r[e]={name:e},console.log("a"),e>0&&i.push({source:r[e-1],target:r[e],value:1});for(s=0;this.steppedAlgorithm.alg.cycleLength-1>s;s++)r[s+e]={name:s+e},i.push({source:r[s+e-1],target:r[s+e],value:1});i.push({source:r[s+e-1],target:r[e-1],value:1}),console.log(r),console.log(i);var n=this.container[0],o=d3.layout.force().nodes(d3.values(r)).links(i).size([600,600]).linkDistance(400).charge(-500).on("tick",t).start(),a=d3.select(n).append("svg"),p=this,h=function(){var t=n.clientWidth,e=n.clientHeight;a.attr("width",t).attr("height",e),console.log(t/(p.steppedAlgorithm.alg.cycleLength/2+p.steppedAlgorithm.alg.straightLength)),o.size([t,e]).linkDistance(t/(p.steppedAlgorithm.alg.cycleLength/2+p.steppedAlgorithm.alg.straightLength)).start()};window.addEventListener("resize",h),h(),a.append("svg:defs").selectAll("marker").data(["end"]).enter().append("svg:marker").attr("id",String).attr("viewBox","0 -5 10 10").attr("refX",15).attr("refY",-1.5).attr("markerWidth",6).attr("markerHeight",6).attr("orient","auto").append("svg:path").attr("d","M0,-5L10,0L0,5");var c=a.append("svg:g").selectAll("path").data(o.links()).enter().append("svg:path").attr("class",function(t){return"link "+t.type}).attr("marker-end","url(#end)");console.log(c);var l=a.selectAll(".node").data(o.nodes()).enter().append("g").attr("class","node").call(o.drag);l.append("circle").attr("r",5),console.log(l[0][4]),console.log("barry"),$(l[0][4]).find("circle").attr("stroke","2px black"),$(l[0][3]).find("circle").attr("class","hare")},e.exports=r},{"./KeyframeHandler":3}],2:[function(t,e){"use strict";var s=function(t){console.log(t),this.head=t.linkedlist,this.straightLength=-1,this.cycleLength=-1,this.numKeyframes=0,this.stepDescriptions={initialisePointers:{desc:"Initalise both pointers to the start of the list",level:0},comparePointers:{desc:"Check whether the pointers are equal",level:0},hareStep:{desc:"Move the hare pointer two steps forward",level:1},tortoiseStep:{desc:"Move the tortoise pointer just one step forward",level:1},initCycleCount:{desc:"Start counting the length of the cycle",level:0},cycleLengthIncrement:{desc:"Add one to the length of the cycle",level:1},initCycleFind:{desc:"Move the tortoise the length of the cycle ahead",level:0},bothOneStep:{desc:"Move both pointers one step forward",level:1}}};s.prototype.generate=function(){for(this.keyframe(),this.initialisePointers(),this.keyframe();this.comparePointers();)this.tortoiseStep(),this.hareStep(),this.keyframe();for(this.keyframe(),this.initCycleCount();this.comparePointers();)this.tortoiseStep(),this.cycleLengthIncrement(),this.keyframe();for(this.keyframe(),this.initCycleFind();this.comparePointers();)this.bothOneStep(),this.keyframe();this.keyframe()},s.prototype.initialisePointers=function(){this.hare=this.head,this.tortoise=this.head},s.prototype.comparePointers=function(){return this.tortoise===this.head||this.hare!==this.tortoise},s.prototype.hareStep=function(){this.hare=this.hare.next.next},s.prototype.tortoiseStep=function(){this.tortoise=this.tortoise.next},s.prototype.initCycleCount=function(){this.tortoise=this.tortoise.next,this.cycleLength=1},s.prototype.cycleLengthIncrement=function(){this.cycleLength++},s.prototype.initCycleFind=function(){this.tortoise=this.head,this.hare=this.head,this.straightLength=1;for(var t=0;this.cycleLength>t;t++)this.tortoise=this.tortoise.next},s.prototype.bothOneStep=function(){this.tortoise=this.tortoise.next,this.hare=this.hare.next,this.straightLength++},s.prototype.keyframe=function(){this.numKeyframes++},e.exports=s},{}],3:[function(t,e){"use strict";var s=function(t){this.steps=t,this.currentStep=0,this.currentKeyframe=0,this.generatedKeyframes=0};s.prototype.next=function(){var t={steps:[]};for(this.generatedKeyframes<this.currentKeyframes?t.add=!1:(t.add=!0,this.generatedKeyframes++);"keyframe"!==this.steps[++this.currentStep].name;)t.steps.push({id:this.currentStep,step:this.steps[this.currentStep]});return t.steps.push({id:this.currentStep,step:this.steps[this.currentStep]}),this.currentKeyframe++,t},s.prototype.last=function(){var t={steps:[]};for(t.steps.push({id:this.currentStep,step:this.steps[this.currentStep]});"keyframe"!==this.steps[--this.currentStep].name;)t.steps.push({id:this.currentStep,step:this.steps[this.currentStep]});return this.currentKeyframe--,t},e.exports=s},{}],4:[function(t,e){"use strict";var s=function(t){this.next=null,this.value=t};s.prototype.append=function(t){var e=new s(t);return this.next=e,e},e.exports=s},{}],5:[function(t,e){"use strict";var s=function(t,e){this.steps=[],this.alg=new t(e);var s=this,r=function(t){return function(){var e=s[t].apply(s.alg,arguments),r=s.alg.stepDescriptions[t]||{desc:null,level:null};return s.steps.push({name:t,arguments:arguments,desc:r.desc,level:r.level}),e}};for(var i in t.prototype)"generate"!==i&&t.prototype.hasOwnProperty(i)&&(this[i]=this.alg[i],this.alg[i]=r(i));this.alg.generate(),this.numKeyframes=this.alg.numKeyframes};e.exports=s},{}],6:[function(t,e){"use strict";var s=t("./KeyframeHandler"),r=function(t,e){this.container=$(t),this.steppedAlgorithm=e,this.keyframes=new s(this.steppedAlgorithm.steps),this.stepElements=[]};r.prototype.addStep=function(t){var e=$("<p></p>").addClass("step").addClass("step-"+this.steppedAlgorithm.steps[t].level).text(this.steppedAlgorithm.steps[t].desc);return this.stepElements[t]=e,e},r.prototype.doStep=function(t){this.container.append(this.stepElements[t]),this.container.scrollTop(this.container.prop("scrollHeight"))},r.prototype.undoStep=function(t){this.stepElements[t].remove()},r.prototype.next=function(){var t=this.keyframes.next(),e=this;t.steps.forEach(function(s){t.add&&e.addStep(s.id,s.step),e.doStep(s.id)})},r.prototype.last=function(){var t=this.keyframes.last(),e=this;t.steps.forEach(function(t){e.undoStep(t.id)})},e.exports=r},{"./KeyframeHandler":3}],7:[function(t){var e=t("./LinkedList"),s=t("./Steppify"),r=t("./TextView"),i=t("./GraphView"),n=t("./HareTortoise"),o=function(t,s){var r,i=new e(0),n=i;for(r=1;t>r;r++)i=i.append(r);var o=i;for(r=1;s>r;r++)i=i.append(t+r-1);return i.next=o,n},a=o(10,15),p=new s(n,{linkedlist:a});console.log(p);var h=new r(document.getElementById("right-view"),p),c=new i(document.getElementById("left-view"),p);console.log(c);var l=$(".current-steps").text(0);console.log("igua"),$(".total-steps").text(p.numKeyframes-1),$("#step_back").on("click",function(){var t=parseInt(l.text());0!==t&&(h.last(),l.text(t-1))}),$("#step_forward").on("click",function(){var t=parseInt(l.text());t!==p.numKeyframes-1&&(h.next(),l.text(parseInt(l.text())+1))})},{"./GraphView":1,"./HareTortoise":2,"./LinkedList":4,"./Steppify":5,"./TextView":6}]},{},[1,2,3,4,5,6,7]);